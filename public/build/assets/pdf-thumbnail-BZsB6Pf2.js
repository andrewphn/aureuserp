import{G as u,g as h}from"./pdf-BnRl7pXp.js";u.workerSrc="/js/pdf.worker.min.js";async function f(t,r,e,o=800){try{const d=await(await h(t).promise).getPage(r),c=d.getViewport({scale:1}),l=o/c.width,n=d.getViewport({scale:l});e.width=n.width,e.height=n.height;const p={canvasContext:e.getContext("2d"),viewport:n};return await d.render(p).promise,!0}catch(a){return console.error("Error rendering PDF thumbnail:",a),!1}}function s(){document.querySelectorAll("[data-pdf-thumbnail]").forEach(t=>{const r=t.dataset.pdfUrl,e=parseInt(t.dataset.pageNumber),o=parseInt(t.dataset.width||"800");let a=t.querySelector("canvas");a||(a=document.createElement("canvas"),a.className="pdf-thumbnail-canvas",t.appendChild(a)),t.classList.add("loading"),f(r,e,a,o).then(i=>{t.classList.remove("loading"),i?t.classList.add("loaded"):(t.classList.add("error"),t.textContent="Failed to load preview")})})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",s):s();window.initPdfThumbnails=s;
